{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9d37","webpack:///./src/plugins/vuetify.ts","webpack:///./src/App.vue?3b3b","webpack:///./src/components/UserForList.vue?538f","webpack:///./src/components/UserForList.vue?0b38","webpack:///./src/components/UserForList.vue?0769","webpack:///./src/components/UserForList.vue","webpack:///./src/components/UserForToolbar.vue?0cf0","webpack:///./src/components/UserForToolbar.vue?23b2","webpack:///./src/components/UserForToolbar.vue?9978","webpack:///./src/components/UserForToolbar.vue","webpack:///./src/factories/index.ts","webpack:///./src/store.ts","webpack:///./src/components/RegisterUser.vue?e1bb","webpack:///./src/components/RegisterUser.vue?97fd","webpack:///./src/components/RegisterUser.vue?4fac","webpack:///./src/components/RegisterUser.vue","webpack:///./src/App.vue?5dd0","webpack:///./src/App.vue?4492","webpack:///./src/App.vue","webpack:///./src/views/TopPage.vue?43c6","webpack:///./src/components/TopPostTitle.vue?721e","webpack:///./src/utils/markdown.ts","webpack:///./src/utils/formatter.ts","webpack:///./src/components/TopPostTitle.vue?a48d","webpack:///./src/components/TopPostTitle.vue?0839","webpack:///./src/components/TopPostTitle.vue","webpack:///./src/views/TopPage.vue?6bd7","webpack:///./src/views/TopPage.vue?3d53","webpack:///./src/views/TopPage.vue","webpack:///./src/views/PostForm.vue?fee7","webpack:///./src/components/MarkdownView.vue?4907","webpack:///./src/components/MarkdownView.vue?c8be","webpack:///./src/components/MarkdownView.vue?efb3","webpack:///./src/components/MarkdownView.vue","webpack:///./src/views/PostForm.vue?56b4","webpack:///./src/views/PostForm.vue?8f1e","webpack:///./src/views/PostForm.vue","webpack:///./src/views/UserPosts.vue?1cfc","webpack:///./src/components/PostView.vue?1ab5","webpack:///./src/components/PostView.vue?281d","webpack:///./src/components/PostView.vue?87d6","webpack:///./src/components/PostView.vue","webpack:///./src/views/UserPosts.vue?30c6","webpack:///./src/views/UserPosts.vue?9a50","webpack:///./src/views/UserPosts.vue","webpack:///./src/views/UserPost.vue?d291","webpack:///./src/components/RelativePost.vue?28a6","webpack:///./src/components/PostLink.vue?9f06","webpack:///./src/components/PostLink.vue?1b98","webpack:///./src/components/PostLink.vue?127d","webpack:///./src/components/PostLink.vue","webpack:///./src/components/RelativePost.vue?089c","webpack:///./src/components/RelativePost.vue?a778","webpack:///./src/components/RelativePost.vue","webpack:///./src/views/UserPost.vue?64d8","webpack:///./src/views/UserPost.vue?cd6e","webpack:///./src/views/UserPost.vue","webpack:///./src/router.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","jsonpScriptSrc","p","about","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","error","Error","request","undefined","setTimeout","head","appendChild","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_id_7780b6a5_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_id_7780b6a5_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","vue_runtime_esm","use","vuetify_default","a","iconfont","render","_vm","this","_h","$createElement","_c","_self","attrs","user","store","hide-overlay","fixed","model","callback","$$v","drawer","expression","to","_v","_e","on","click","$event","staticClass","icon","title","staticRenderFns","UserForListvue_type_template_id_1fc84cbc_render","flat","avatar","params","userName","_s","displayName","signOut","signIn","UserForListvue_type_template_id_1fc84cbc_staticRenderFns","UserForListvue_type_script_lang_ts_UserForList","_super","UserForList","tslib_es6","provider","index_cjs_default","auth","GoogleAuthProvider","signInWithRedirect","vue_property_decorator","UserForListvue_type_script_lang_ts_","components_UserForListvue_type_script_lang_ts_","component","componentNormalizer","components_UserForList","installComponents_default","VCard","VIcon","VList","VListTile","VListTileAction","VListTileAvatar","VListTileContent","components_VList","VListTileTitle","UserForToolbarvue_type_template_id_0ae8d423_render","UserForToolbarvue_type_template_id_0ae8d423_staticRenderFns","UserForToolbarvue_type_script_lang_ts_UserForToolbar","UserForToolbar","UserForToolbarvue_type_script_lang_ts_","components_UserForToolbarvue_type_script_lang_ts_","UserForToolbar_component","components_UserForToolbar","createOwner","id","storeUser","created","toDate","postCount","createUser","firebaseUser","uid","email","verified","emailVerified","registered","createViewablePostByDocumentSnapshot","documentSnapshot","subject","body","updated","getUserData","firestore","collection","where","then","users","docs","log","catch","VBtn","VToolbarItems","VToolbar","refresh","_a","_b","sent","error_1","initialize","_this","currentUser","onAuthStateChanged","RegisterUservue_type_template_id_eddce6a0_render","row","justify-center","persistent","dialog","submit","preventDefault","register","xs12","placeholder","required","label","color","cancel","RegisterUservue_type_template_id_eddce6a0_staticRenderFns","RegisterUservue_type_script_lang_ts_RegisterUser","RegisterUser","arguments","onUserChanged","FieldValue","serverTimestamp","doc","set","RegisterUservue_type_script_lang_ts_","components_RegisterUservue_type_script_lang_ts_","RegisterUser_component","components_RegisterUser","VCardText","components_VCard","VCardTitle","VContainer","VDialog","VFlex","VForm","VLayout","VTextField","Appvue_type_script_lang_ts_App","App","components","Appvue_type_script_lang_ts_","src_Appvue_type_script_lang_ts_","App_component","src_App","VApp","VContent","VDivider","VNavigationDrawer","VSpacer","VGrid","VToolbar_VToolbar","VToolbarSideIcon","VToolbarTitle","TopPagevue_type_template_id_c75a621a_render","two-line","_l","post","index","TopPagevue_type_template_id_c75a621a_staticRenderFns","TopPostTitlevue_type_template_id_3cf1a304_render","postId","postRef","date","userDisplayName","TopPostTitlevue_type_template_id_3cf1a304_staticRenderFns","md","markdown_it_default","html","linkify","markdown","source","fromTimestampToDate","ts","getFullYear","getMonth","getDate","getHours","getMinutes","TopPostTitlevue_type_script_lang_ts_TopPostTitle","TopPostTitle","TopPostTitlevue_type_script_lang_ts_","components_TopPostTitlevue_type_script_lang_ts_","TopPostTitle_component","components_TopPostTitle","VListTileSubTitle","TopPagevue_type_script_lang_ts_TopPage","TopPage","posts","orderBy","limit","forEach","userId","err_1","TopPagevue_type_script_lang_ts_","views_TopPagevue_type_script_lang_ts_","TopPage_component","views_TopPage","PostFormvue_type_template_id_7d678bf7_render","ref","lazy-validation","directives","rawName","msg","wrap","md12","aria-label","rules","titleRule","sm12","md6","auto-grow","bodyRule","rows","PostFormvue_type_template_id_7d678bf7_staticRenderFns","MarkdownViewvue_type_template_id_1abd1441_render","domProps","innerHTML","preview","MarkdownViewvue_type_template_id_1abd1441_staticRenderFns","MarkdownViewvue_type_script_lang_ts_MarkdownView","MarkdownView","MarkdownViewvue_type_script_lang_ts_","components_MarkdownViewvue_type_script_lang_ts_","MarkdownView_component","components_MarkdownView","PostFormvue_type_script_lang_ts_PostForm","PostForm","v","$refs","postForm","validate","owner","add","$_postForm_clear","resetValidation","PostFormvue_type_script_lang_ts_","views_PostFormvue_type_script_lang_ts_","PostForm_component","views_PostForm","VTextarea","UserPostsvue_type_template_id_9acb9e4c_render","prev","next","UserPostsvue_type_template_id_9acb9e4c_staticRenderFns","PostViewvue_type_template_id_27aa1e25_render","PostViewvue_type_template_id_27aa1e25_staticRenderFns","PostViewvue_type_script_lang_ts_PostView","PostView","PostViewvue_type_script_lang_ts_","components_PostViewvue_type_script_lang_ts_","PostView_component","components_PostView","UserPostsvue_type_script_lang_ts_UserPosts","UserPosts","lastPost","firstPost","hasPrev","hasNext","sinceId","$_UserPosts_getPosts","concat","$_UserPosts_refreshLastFirst","unshift","error_2","since","order","userRef","$_UserPosts_getPostsByProps","reverse","startAfter","query","pagingCount","querySnapshot","$_UserPosts_createPosts","error_3","error_4","postDocumentSnapshot","$_UserPosts_getPost","newPosts","showCount","postDoc","exists","error_5","default","Number","UserPostsvue_type_script_lang_ts_","views_UserPostsvue_type_script_lang_ts_","UserPosts_component","views_UserPosts","UserPostvue_type_template_id_671918c8_render","UserPostvue_type_template_id_671918c8_staticRenderFns","RelativePostvue_type_template_id_02fd36e2_render","relativePosts","relativePost","RelativePostvue_type_template_id_02fd36e2_staticRenderFns","PostLinkvue_type_template_id_62cef847_render","PostLinkvue_type_template_id_62cef847_staticRenderFns","PostLinkvue_type_script_lang_ts_PostLink","PostLink","PostLinkvue_type_script_lang_ts_","components_PostLinkvue_type_script_lang_ts_","PostLink_component","components_PostLink","RelativePostvue_type_script_lang_ts_firestore","RelativePostvue_type_script_lang_ts_RelativePost","RelativePost","$_RelativePost_onPostChanged","old","Timestamp","fromMillis","toMillis","Math","floor","random","RelativePostvue_type_script_lang_ts_","components_RelativePostvue_type_script_lang_ts_","RelativePost_component","components_RelativePost","UserPostvue_type_script_lang_ts_firestore","UserPostvue_type_script_lang_ts_UserPost","UserPost","$_UserPost_onPostIdChanged","thisPost","UserPostvue_type_script_lang_ts_","views_UserPostvue_type_script_lang_ts_","UserPost_component","views_UserPost","getInt","param","defaultValue","parseInt","getOrder","vue_router_esm","router","base","routes","path","props","route","page","config","productionTip","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","initializeApp","h","$mount"],"mappings":"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","file":"js/app.3dcaa13e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"ca53e8e6\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=7780b6a5&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=7780b6a5&scoped=true&lang=css&\"","import Vue from \"vue\";\nimport Vuetify from \"vuetify\";\nimport \"vuetify/src/stylus/app.styl\";\n\nVue.use(Vuetify, {\n\ticonfont: \"md\",\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('RegisterUser',{attrs:{\"user\":_vm.store.user}}),_c('v-navigation-drawer',{attrs:{\"hide-overlay\":\"\",\"fixed\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-list',[_c('v-list-tile',{attrs:{\"to\":\"/\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"home\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n\\t\\t\\t\\t\\t\\tブログシステム\\n\\t\\t\\t\\t\\t\")])],1)],1),_c('v-divider'),_c('UserForList',{attrs:{\"user\":_vm.store.user}}),_c('v-divider'),(_vm.store.user)?_c('v-list-tile',{attrs:{\"to\":\"/_do_post\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"create\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t記事を書く\\n\\t\\t\\t\\t\\t\")])],1)],1):_vm._e(),_c('v-list-tile',{attrs:{\"to\":\"/about\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"info\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n\\t\\t\\t\\t\\t\\tこのサイトについて\\n\\t\\t\\t\\t\\t\")])],1)],1)],1)],1),_c('v-toolbar',{attrs:{\"app\":\"\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){_vm.drawer = !_vm.drawer}}}),_c('v-toolbar-title',[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"\\n\\t\\t\\t\\tブログシステム\\n\\t\\t\\t\")])],1),_c('v-spacer'),_c('v-toolbar-items',{staticClass:\"hidden-sm-and-down\"},[(_vm.store.user)?_c('v-btn',{attrs:{\"icon\":\"\",\"to\":\"/_do_post\",\"title\":\"記事を書く\"}},[_c('v-icon',[_vm._v(\"create\")])],1):_vm._e(),_c('v-btn',{attrs:{\"icon\":\"\",\"to\":\"/about\",\"title\":\"このサイトについて\"}},[_c('v-icon',[_vm._v(\"info\")])],1)],1),_c('UserForToolbar',{staticClass:\"hidden-sm-and-down\",attrs:{\"user\":_vm.store.user}})],1),_c('v-content',[_c('v-container',[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"flat\":\"\"}},[(_vm.user)?_c('v-list',{staticClass:\"pa-0\"},[_c('v-list-tile',{attrs:{\"avatar\":\"\",\"to\":{name: 'user', params: { userName: _vm.user.name}}}},[_c('v-list-tile-avatar',[_c('v-icon',[_vm._v(\"person\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(_vm.user.displayName))])],1)],1)],1):_vm._e(),_c('v-list',{staticClass:\"pa-0\"},[(_vm.user)?_c('v-list-tile',{on:{\"click\":_vm.signOut}},[_c('v-list-tile-action'),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n\\t\\t\\t\\t\\tSignOut\\n\\t\\t\\t\\t\")])],1)],1):_c('v-list-tile',{on:{\"click\":_vm.signIn}},[_c('v-list-tile-action'),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n\\t\\t\\t\\t\\tSignIn\\n\\t\\t\\t\\t\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport firebase from \"firebase\";\nimport * as models from \"../models\";\n\n@Component({})\nexport default class UserForList extends Vue {\n\t@Prop() user!: models.User;\n\n\tsignIn() {\n\t\tconst provider = new firebase.auth.GoogleAuthProvider();\n\t\tfirebase.auth().signInWithRedirect(provider);\n\t}\n\n\tsignOut() {\n\t\tfirebase.auth().signOut();\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserForList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserForList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UserForList.vue?vue&type=template&id=1fc84cbc&\"\nimport script from \"./UserForList.vue?vue&type=script&lang=ts&\"\nexport * from \"./UserForList.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/mnt/c/sources/blog/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileAction } from 'vuetify/lib'\nimport { VListTileAvatar } from 'vuetify/lib'\nimport { VListTileContent } from 'vuetify/lib'\nimport { VListTileTitle } from 'vuetify/lib'\ninstallComponents(component, {VCard,VIcon,VList,VListTile,VListTileAction,VListTileAvatar,VListTileContent,VListTileTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar-items',[(_vm.user)?_c('v-btn',{attrs:{\"flat\":\"\",\"to\":{name: 'user', params: { userName: _vm.user.name}}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.user.displayName)+\"\\n\\t\")]):_vm._e(),(_vm.user)?_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":_vm.signOut}},[_vm._v(\"signOut\")]):_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":_vm.signIn}},[_vm._v(\"signIn\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport firebase from \"firebase\";\nimport * as models from \"../models\";\n\n@Component({})\nexport default class UserForToolbar extends Vue {\n\t@Prop() user!: models.User;\n\n\tsignIn() {\n\t\tconst provider = new firebase.auth.GoogleAuthProvider();\n\t\tfirebase.auth().signInWithRedirect(provider);\n\t}\n\n\tsignOut() {\n\t\tfirebase.auth().signOut();\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserForToolbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserForToolbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UserForToolbar.vue?vue&type=template&id=0ae8d423&\"\nimport script from \"./UserForToolbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./UserForToolbar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/mnt/c/sources/blog/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VToolbarItems } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VToolbarItems})\n","import firebase from \"firebase\";\nimport * as models from \"../models\";\n\nexport function createOwner(id: string, storeUser: models.StoreUser): models.Owner {\n\treturn {\n\t\tid,\n\t\tname: storeUser.name,\n\t\tdisplayName: storeUser.displayName,\n\t\tcreated: storeUser.created.toDate(),\n\t\tpostCount: storeUser.postCount,\n\t};\n}\n\nexport function createUser(firebaseUser: firebase.User, storeUser?: models.StoreUser): models.User {\n\tif (storeUser == null) {\n\t\treturn {\n\t\t\tid: firebaseUser.uid,\n\t\t\tdisplayName: firebaseUser.displayName || firebaseUser.email || firebaseUser.uid,\n\t\t\tverified: firebaseUser.emailVerified,\n\t\t\tregistered: false,\n\t\t};\n\t}\n\treturn {\n\t\tid: firebaseUser.uid,\n\t\tverified: firebaseUser.emailVerified,\n\t\tregistered: true,\n\t\tname: storeUser.name,\n\t\tdisplayName: storeUser.displayName,\n\t\tcreated: storeUser.created.toDate(),\n\t} as models.RegisteredUser;\n}\n\nexport function createViewablePostByDocumentSnapshot(documentSnapshot: firebase.firestore.DocumentSnapshot) {\n\tconst data = documentSnapshot.data() as models.Post;\n\treturn {\n\t\tsubject: data.subject,\n\t\tbody: data.body,\n\t\tcreated: data.created,\n\t\tupdated: data.updated,\n\t\tid: documentSnapshot.id,\n\t};\n}\n","import firebase from \"firebase\";\nimport * as models from \"./models\";\nimport * as factories from \"./factories\";\n\nexport interface Store {\n\tuser: models.User | null;\n\tfirebaseUser: firebase.User | null;\n\tinitialize(): void;\n\trefresh(): void;\n}\n\nfunction getUserData(user: firebase.User): Promise<models.User> {\n\treturn new Promise((resolve, reject) => {\n\t\tfirebase.firestore().collection(\"users\").where(\"id\", \"==\", user.uid).get().then((users) => {\n\t\t\tif (users.docs.length === 0) {\n\t\t\t\tresolve(factories.createUser(user));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst storeUser = users.docs[0].data() as models.StoreUser;\n\t\t\tconsole.log(storeUser);\n\t\t\tresolve(factories.createUser(user, storeUser));\n\t\t}).catch(reject);\n\t});\n}\n\nexport const store: Store = {\n\tuser: null as models.User | null,\n\tfirebaseUser: null as firebase.User | null,\n\n\tasync refresh() {\n\t\tif (this.firebaseUser == null) {\n\t\t\tthis.user = null;\n\t\t\tconsole.log(\"user is null\");\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tthis.user = await getUserData(this.firebaseUser);\n\t\t\tconsole.log(\"user\", this.user);\n\t\t} catch (error) {\n\t\t\tconsole.error(\"get user data error\", error);\n\t\t}\n\t},\n\n\tinitialize() {\n\t\tconst currentUser = firebase.auth().currentUser;\n\t\tif (currentUser != null) {\n\t\t\tthis.firebaseUser = currentUser;\n\t\t\tthis.refresh();\n\t\t}\n\t\tfirebase.auth().onAuthStateChanged(async (user) => {\n\t\t\tif (user == null) {\n\t\t\t\tthis.firebaseUser = null;\n\t\t\t\tthis.refresh();\n\t\t\t} else {\n\t\t\t\tthis.firebaseUser = user;\n\t\t\t\tthis.refresh();\n\t\t\t}\n\t\t}, (err) => {\n\t\t\tconsole.error(\"error auth: \", err);\n\t\t});\n\t},\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-dialog',{attrs:{\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"\\n\\t\\t\\t\\tユーザ登録\\n\\t\\t\\t\")]),_c('v-card-text',[_c('v-container',[_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.register($event)}}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"placeholder\":\"識別名\",\"required\":\"\",\"label\":\"識別名\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"placeholder\":\"表示名\",\"required\":\"\",\"label\":\"表示名\"},model:{value:(_vm.displayName),callback:function ($$v) {_vm.displayName=$$v},expression:\"displayName\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":_vm.register}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t登録\\n\\t\\t\\t\\t\\t\\t\\t\")]),_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":_vm.cancel}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\tキャンセル\\n\\t\\t\\t\\t\\t\\t\\t\")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Watch } from \"vue-property-decorator\";\nimport firebase from \"firebase\";\nimport * as models from \"../models\";\nimport {store} from \"../store\";\nimport * as factories from \"../factories\";\n\n@Component({})\nexport default class RegisterUser extends Vue {\n\t@Prop() user!: models.User;\n\tname: string | null = null;\n\tdisplayName: string | null = null;\n\tdialog: boolean = false;\n\n\t@Watch(\"user\")\n\tonUserChanged() {\n\t\tthis.dialog = this.user != null && this.user.registered === false;\n\t}\n\n\tregister() {\n\t\tif (this.name == null || this.name === \"\") {\n\t\t\treturn;\n\t\t}\n\t\tif (this.displayName == null || this.displayName === \"\") {\n\t\t\treturn;\n\t\t}\n\t\tconst storeUser = {\n\t\t\tid: this.user.id,\n\t\t\tname: this.name,\n\t\t\tdisplayName: this.displayName,\n\t\t\tcreated: firebase.firestore.FieldValue.serverTimestamp(),\n\t\t\tpostCount: 0,\n\t\t};\n\t\tfirebase.firestore().collection(\"users\").doc(storeUser.name).set(storeUser).then((err) => {\n\t\t\tif (err != null) {\n\t\t\t\tconsole.error(\"register user error\", err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tstore.refresh();\n\t\t\tconsole.log(\"registered user\");\n\t\t}).catch((err) => {\n\t\t\tconsole.error(\"register user error\", err);\n\t\t});\n\t}\n\n\tcancel() {\n\t\tfirebase.auth().signOut();\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterUser.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterUser.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RegisterUser.vue?vue&type=template&id=eddce6a0&\"\nimport script from \"./RegisterUser.vue?vue&type=script&lang=ts&\"\nexport * from \"./RegisterUser.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/mnt/c/sources/blog/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VForm } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VContainer,VDialog,VFlex,VForm,VLayout,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from \"vue-property-decorator\";\nimport UserForList from \"./components/UserForList.vue\";\nimport UserForToolbar from \"./components/UserForToolbar.vue\";\nimport {store} from \"./store\";\nimport RegisterUser from \"./components/RegisterUser.vue\";\n\n@Component({\n\tcomponents: {\n\t\tUserForList,\n\t\tUserForToolbar,\n\t\tRegisterUser,\n\t},\n})\nexport default class App extends Vue {\n\tstore = store;\n\tdrawer = false;\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7780b6a5&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=7780b6a5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7780b6a5\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/mnt/c/sources/blog/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VContent } from 'vuetify/lib'\nimport { VDivider } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileAction } from 'vuetify/lib'\nimport { VListTileContent } from 'vuetify/lib'\nimport { VListTileTitle } from 'vuetify/lib'\nimport { VNavigationDrawer } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarItems } from 'vuetify/lib'\nimport { VToolbarSideIcon } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\ninstallComponents(component, {VApp,VBtn,VContainer,VContent,VDivider,VIcon,VList,VListTile,VListTileAction,VListTileContent,VListTileTitle,VNavigationDrawer,VSpacer,VToolbar,VToolbarItems,VToolbarSideIcon,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home\"}},[_c('v-list',{attrs:{\"two-line\":\"\"}},[_vm._l((_vm.posts),function(post,index){return [_c('TopPostTitle',{key:index,attrs:{\"post\":post}})]})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list-tile',{attrs:{\"to\":{name: 'userPost', params: {userName: _vm.post.userName, postId: _vm.post.postRef.id}}}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(_vm.post.subject))]),_c('v-list-tile-sub-title',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.date)+\"\\n\\t\\t\\t -\\n\\t\\t\\t\"),_c('router-link',{attrs:{\"to\":{name: 'user', params: { userName: _vm.post.userName}}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.post.userDisplayName)+\"\\n\\t\\t\\t\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import markdownIt from \"markdown-it\";\nconst md = markdownIt({\n\thtml: true,\n\tlinkify: true,\n});\n\nexport function markdown(source: string) {\n\treturn md.render(source);\n}\n","import firebase from \"firebase\";\nexport function fromTimestampToDate(ts: firebase.firestore.Timestamp) {\n\tconst d = ts.toDate();\n\treturn `${d.getFullYear()}年${d.getMonth() + 1}月${d.getDate()}日 ${d.getHours()}時${d.getMinutes()}分`;\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport * as models from \"../models\";\nimport PostLink from \"../components/PostLink.vue\";\nimport * as utils from \"../utils\";\n\n@Component({})\nexport default class TopPostTitle extends Vue {\n\t@Prop() post!: models.AllPost;\n\n\tget date() {\n\t\treturn utils.fromTimestampToDate(this.post.created);\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopPostTitle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopPostTitle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TopPostTitle.vue?vue&type=template&id=3cf1a304&\"\nimport script from \"./TopPostTitle.vue?vue&type=script&lang=ts&\"\nexport * from \"./TopPostTitle.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/mnt/c/sources/blog/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileContent } from 'vuetify/lib'\nimport { VListTileSubTitle } from 'vuetify/lib'\nimport { VListTileTitle } from 'vuetify/lib'\ninstallComponents(component, {VListTile,VListTileContent,VListTileSubTitle,VListTileTitle})\n","\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop } from \"vue-property-decorator\";\nimport TopPostTitle from \"../components/TopPostTitle.vue\";\nimport firebase from \"firebase\";\nimport * as models from \"../models\";\nimport * as factories from \"../factories\";\n\n@Component({\n\tcomponents: {\n\t\tTopPostTitle,\n\t},\n})\nexport default class TopPage extends Vue {\n\tpostRef: firebase.firestore.CollectionReference | null = null;\n\tposts: models.AllPost[] = [];\n\n\tasync created() {\n\t\tconsole.log(\"home created\");\n\t\tthis.postRef = firebase.firestore().collection(\"allPosts\");\n\t\ttry {\n\t\t\t// TODO: キャッシュのライフサイクル的なものを設定して強めにきかせたい\n\t\t\tconst posts = await this.postRef.orderBy(\"created\", \"desc\").limit(100).get();\n\t\t\tthis.posts = [];\n\t\t\tposts.forEach((post) => {\n\t\t\t\tconst data = post.data();\n\t\t\t\tthis.posts.push({\n\t\t\t\t\tsubject: data.subject,\n\t\t\t\t\tbody: data.body,\n\t\t\t\t\tcreated: data.created,\n\t\t\t\t\tupdated: data.updated,\n\t\t\t\t\tpostRef: data.postRef,\n\t\t\t\t\tuserId: data.userId,\n\t\t\t\t\tuserName: data.userName,\n\t\t\t\t\tuserDisplayName: data.userDisplayName,\n\t\t\t\t});\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tconsole.error(\"get data error\", err);\n\t\t}\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TopPage.vue?vue&type=template&id=c75a621a&\"\nimport script from \"./TopPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./TopPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/mnt/c/sources/blog/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VList } from 'vuetify/lib'\ninstallComponents(component, {VList})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-form',{ref:\"postForm\",attrs:{\"id\":\"postForm\",\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.post($event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.msg),expression:\"msg\"}]},[_vm._v(_vm._s(_vm.msg))]),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md12\":\"\"}},[_c('v-text-field',{attrs:{\"placeholder\":\"タイトル\",\"aria-label\":\"ブログの記事タイトル\",\"required\":\"\",\"label\":\"タイトル\",\"rules\":_vm.titleRule},model:{value:(_vm.subject),callback:function ($$v) {_vm.subject=$$v},expression:\"subject\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\",\"md6\":\"\"}},[_c('v-textarea',{attrs:{\"placeholder\":\"本文\",\"aria-label\":\"ブログの本文\",\"required\":\"\",\"auto-grow\":\"\",\"label\":\"本文\",\"rules\":_vm.bodyRule,\"rows\":\"16\"},model:{value:(_vm.body),callback:function ($$v) {_vm.body=$$v},expression:\"body\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\",\"md6\":\"\"}},[_c('MarkdownView',{attrs:{\"body\":_vm.body}})],1)],1),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":_vm.post}},[_vm._v(\"投稿\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{domProps:{\"innerHTML\":_vm._s(_vm.preview)}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport * as utils from \"../utils\";\n\n@Component({})\nexport default class MarkdownView extends Vue {\n\t@Prop() body!: string;\n\n\tget preview() {\n\t\treturn utils.markdown(this.body);\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MarkdownView.vue?vue&type=template&id=1abd1441&\"\nimport script from \"./MarkdownView.vue?vue&type=script&lang=ts&\"\nexport * from \"./MarkdownView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop, Watch } from \"vue-property-decorator\";\nimport MarkdownView from \"../components/MarkdownView.vue\";\nimport firebase from \"firebase\";\nimport * as models from \"../models\";\nimport * as factories from \"../factories\";\nimport * as utils from \"../utils\";\n\n@Component({\n\tcomponents: {\n\t\tMarkdownView,\n\t},\n})\nexport default class PostForm extends Vue {\n\t@Prop() owner!: models.RegisteredUser;\n\tsubject: string = \"\";\n\tbody: string = \"\";\n\tmsg: string = \"\";\n\n\tget titleRule() {\n\t\treturn [\n\t\t\t(v: string) => v.length === 0 ? \"タイトルを入力してください\" : true,\n\t\t];\n\t}\n\n\tget bodyRule() {\n\t\treturn [\n\t\t\t(v: string) => v.length === 0 ? \"本文を入力してください\" : true,\n\t\t];\n\t}\n\n\tasync post() {\n\t\tconsole.log(\"posted\");\n\t\tconsole.log(\"validate?\", (this.$refs.postForm as HTMLFormElement).validate());\n\t\tif (! (this.$refs.postForm as HTMLFormElement).validate()) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.owner == null || !this.owner.registered) {\n\t\t\tthis.msg = \"ログインしてください。\";\n\t\t\treturn;\n\t\t}\n\t\tconst post = {\n\t\t\tsubject: this.subject,\n\t\t\tbody: this.body,\n\t\t\tcreated: firebase.firestore.FieldValue.serverTimestamp(),\n\t\t\tupdated: firebase.firestore.FieldValue.serverTimestamp(),\n\t\t} as models.Post;\n\t\tconsole.log(post);\n\t\ttry {\n\t\t\tawait firebase.firestore().collection(\"users\").doc(this.owner.name).collection(\"posts\").add(post);\n\t\t\tthis.$_postForm_clear();\n\t\t\tthis.msg = \"投稿しました。\";\n\t\t} catch (err) {\n\t\t\tconsole.error(\"add error\", err);\n\t\t\tthis.msg = \"投稿失敗\";\n\t\t}\n\t}\n\n\t$_postForm_clear() {\n\t\tthis.subject = \"\";\n\t\tthis.body = \"\";\n\t\t// TODO: VFormを型解決しないと無理だけど現状型解決できないっぽい\n\t\t(this.$refs.postForm as any).resetValidation();\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PostForm.vue?vue&type=template&id=7d678bf7&\"\nimport script from \"./PostForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./PostForm.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/mnt/c/sources/blog/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VForm } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\nimport { VTextarea } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VFlex,VForm,VLayout,VTextField,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"user\"}},[(_vm.user)?_c('h1',[_vm._v(_vm._s(_vm.user.displayName)+\"の投稿\")]):_vm._e(),[_c('div',{staticClass:\"prev_pager\"},[(_vm.hasPrev)?[_c('v-btn',{attrs:{\"color\":\"info\"},on:{\"click\":_vm.prev}},[_vm._v(\"新しい記事\")])]:_vm._e()],2),_vm._l((_vm.posts),function(post,index){return _c('PostView',{key:index,staticClass:\"mb-4\",attrs:{\"post\":post,\"user\":_vm.user}})}),_c('div',{staticClass:\"next_pager\"},[(_vm.hasNext)?[_c('v-btn',{attrs:{\"color\":\"info\"},on:{\"click\":_vm.next}},[_vm._v(\"前の記事\")])]:_vm._e()],2)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_c('h1',[_c('router-link',{attrs:{\"to\":{name: 'userPost', params: {userName: _vm.user.name, postId: _vm.post.id}}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.post.subject)+\"\\n\\t\\t\\t\")])],1)]),_c('v-divider'),_c('v-card-text',[_c('MarkdownView',{attrs:{\"body\":_vm.post.body}})],1),_c('v-divider'),_c('v-card-text',[_c('router-link',{attrs:{\"to\":{name: 'user', params: {userName: _vm.user.name}}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.user.displayName)+\"\\n\\t\\t\")]),_c('span',[_vm._v(\" - \"+_vm._s(_vm.date))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport MarkdownView from \"./MarkdownView.vue\";\nimport * as models from \"../models\";\nimport * as utils from \"../utils\";\n\n@Component({\n\tcomponents: {\n\t\tMarkdownView,\n\t},\n})\nexport default class PostView extends Vue {\n\t@Prop() user!: models.Owner;\n\t@Prop() post!: models.ViewablePost;\n\n\tget date() {\n\t\treturn utils.fromTimestampToDate(this.post.created);\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PostView.vue?vue&type=template&id=27aa1e25&\"\nimport script from \"./PostView.vue?vue&type=script&lang=ts&\"\nexport * from \"./PostView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/mnt/c/sources/blog/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VDivider } from 'vuetify/lib'\ninstallComponents(component, {VCard,VCardText,VCardTitle,VDivider})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop } from \"vue-property-decorator\";\nimport PostView from \"../components/PostView.vue\";\nimport firebase from \"firebase\";\nimport firestore = firebase.firestore;\nimport * as models from \"../models\";\nimport * as factories from \"../factories\";\nimport {store} from \"../store\";\n\n@Component({\n\tcomponents: {\n\t\tPostView,\n\t},\n})\nexport default class UserPosts extends Vue {\n\t@Prop() userName!: string;\n\t@Prop({\n\t\trequired: false,\n\t\tdefault: null,\n\t}) since!: string | null;\n\t@Prop({\n\t\trequired: true,\n\t\tdefault: \"desc\",\n\t}) order!: \"asc\" | \"desc\";\t// 本当はorderは「両方」をサポートするとより良いかもしれない\n\t@Prop({\n\t\ttype: Number,\n\t\tdefault: 5,\n\t}) pagingCount!: number;\n\t@Prop({\n\t\ttype: Number,\n\t\tdefault: 10,\n\t}) showCount!: number;\n\tposts: models.ViewablePost[] = [];\n\tlastPost: models.ViewablePost | null = null;\n\tfirstPost: models.ViewablePost | null = null;\n\thasPrev: boolean = false;\n\thasNext: boolean = false;\n\tuser: models.Owner | null = null;\n\tsinceId: string | null = null;\n\n\t// 使ってないがこのURLで栞的なものは作れる（それよりも文書中に栞を挟める方が便利だが）\n\tget prevLink() {\n\t\tif (this.firstPost == null) {\n\t\t\treturn \"?\";\n\t\t}\n\t\treturn `?since=${this.firstPost.id}&order=asc`;\n\t}\n\n\t// 使ってないがこのURLで栞的なものは作れる（それよりも文書中に栞を挟める方が便利だが）\n\tget nextLink() {\n\t\tif (this.lastPost == null) {\n\t\t\treturn \"?\";\n\t\t}\n\t\treturn `?since=${this.lastPost.id}`;\n\t}\n\n\tasync next() {\n\t\ttry {\n\t\t\tconst posts = await this.$_UserPosts_getPosts(this.lastPost);\n\t\t\tthis.posts = this.posts.concat(posts);\n\t\t\tthis.$_UserPosts_refreshLastFirst(posts);\n\t\t} catch (error) {\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n\n\tasync prev() {\n\t\ttry {\n\t\t\tconst posts = await this.$_UserPosts_getPosts(this.firstPost, \"asc\");\n\t\t\t// なんかださい（applyしたいけどそれだとvueが変更検知に失敗する）\n\t\t\tposts.forEach((post) => {\n\t\t\t\tthis.posts.unshift(post);\n\t\t\t});\n\t\t\tthis.$_UserPosts_refreshLastFirst(posts, \"asc\");\n\t\t} catch (error) {\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n\n\tasync created() {\n\t\tconsole.log(\"user created\", this.userName, this.since, this.order);\n\t\tconst userRef = firestore().collection(\"users\").doc(this.userName);\n\t\ttry {\n\t\t\tthis.sinceId = this.since;\n\t\t\tconst storeUser = await userRef.get();\n\t\t\tthis.posts = await this.$_UserPosts_getPostsByProps();\n\t\t\tif (this.order === \"asc\") {\n\t\t\t\t// これはほんとは常時reverseしてprev()メソッドのunshiftをやめるべきなのかも？\n\t\t\t\tthis.posts.reverse();\n\t\t\t}\n\t\t\tthis.user = factories.createOwner(this.userName, storeUser.data() as models.StoreUser);\n\t\t\tthis.$_UserPosts_refreshLastFirst(this.posts, this.order);\n\t\t} catch (err) {\n\t\t\tconsole.error(\"get data error\", err);\n\t\t}\n\t}\n\n\tasync $_UserPosts_getPosts(\n\t\tstartAfter: models.ViewablePost | null = null,\n\t\torder: firestore.OrderByDirection = \"desc\") {\n\t\ttry {\n\t\t\tconst postRef = firestore().collection(\"users\").doc(this.userName).collection(\"posts\");\n\t\t\tlet query = postRef.limit(this.pagingCount).orderBy(\"created\", order);\n\t\t\tif (startAfter != null) {\n\t\t\t\tquery = query.startAfter(startAfter.created);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tconst querySnapshot = await query.get();\n\t\t\t\treturn this.$_UserPosts_createPosts(querySnapshot, order);\n\t\t\t} catch (error) {\n\t\t\t\treturn Promise.reject(error);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n\n\t$_UserPosts_createPosts(querySnapshot: firestore.QuerySnapshot, order: firestore.OrderByDirection = \"desc\") {\n\t\tconst posts: models.ViewablePost[] = [];\n\t\tquerySnapshot.forEach((postDocumentSnapshot) => {\n\t\t\tposts.push(factories.createViewablePostByDocumentSnapshot(postDocumentSnapshot));\n\t\t});\n\n\t\treturn posts;\n\t}\n\n\tasync $_UserPosts_getPostsByProps() {\n\t\tif (this.since != null ) {\n\t\t\tconst post = await this.$_UserPosts_getPost(this.since);\n\t\t\treturn await this.$_UserPosts_getPosts(\n\t\t\t\tpost,\n\t\t\t\tthis.order,\n\t\t\t);\n\t\t} else {\n\t\t\treturn this.$_UserPosts_getPosts();\n\t\t}\n\t}\n\n\t$_UserPosts_refreshLastFirst(newPosts: models.ViewablePost[], order: \"desc\" | \"asc\" = \"desc\") {\n\t\tif (this.posts.length > 0) {\n\t\t\t// 読み込みすぎの場合のカット処理\n\t\t\tif (this.posts.length > this.showCount) {\n\t\t\t\tif (order === \"desc\") {\n\t\t\t\t\tthis.posts = this.posts.slice(this.posts.length - this.showCount);\n\t\t\t\t\tthis.sinceId = this.posts[0].id;\n\t\t\t\t} else {\n\t\t\t\t\tthis.posts = this.posts.slice(0, this.showCount - this.posts.length);\n\t\t\t\t\tthis.sinceId = this.posts[this.posts.length - 1].id;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.lastPost = this.posts[this.posts.length - 1];\n\t\t\tthis.firstPost = this.posts[0];\n\t\t} else {\n\t\t\tthis.lastPost = null;\n\t\t\tthis.firstPost = null;\n\t\t}\n\t\t// この次ページ/前ページ判定では最後まで読んだ時に一度無駄読み（0件であることを確認する読み込み）が発生する\n\t\t// 防止する場合はpagingの1個先まで読むという手が考えられそう\n\t\tif (order === \"desc\") {\n\t\t\tthis.hasNext = newPosts.length >= this.pagingCount;\n\t\t\tthis.hasPrev = this.sinceId != null;\n\t\t} else {\n\t\t\tthis.hasPrev = newPosts.length >= this.pagingCount;\n\t\t\tthis.hasNext = this.sinceId != null;\n\t\t}\n\t}\n\n\tasync $_UserPosts_getPost(id: string): Promise<models.ViewablePost | null> {\n\t\ttry {\n\t\t\tconst postDoc = firestore().collection(\"users\").doc(this.userName).collection(\"posts\").doc(id);\n\t\t\tconst documentSnapshot = await postDoc.get();\n\t\t\tif (! documentSnapshot.exists) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn factories.createViewablePostByDocumentSnapshot(documentSnapshot);\n\t\t} catch (error) {\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPosts.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPosts.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UserPosts.vue?vue&type=template&id=9acb9e4c&\"\nimport script from \"./UserPosts.vue?vue&type=script&lang=ts&\"\nexport * from \"./UserPosts.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/mnt/c/sources/blog/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\ninstallComponents(component, {VBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home\"}},[(_vm.post)?_c('PostView',{attrs:{\"user\":_vm.user,\"post\":_vm.post}}):_vm._e(),_c('RelativePost',{attrs:{\"post\":_vm.post,\"userName\":_vm.userName}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.relativePosts.length > 0)?_c('h3',[_vm._v(\"他の記事\")]):_vm._e(),_c('ul',_vm._l((_vm.relativePosts),function(relativePost,index){return _c('li',{key:index},[_c('PostLink',{attrs:{\"userName\":_vm.userName,\"post\":relativePost}})],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('router-link',{attrs:{\"to\":{name:'userPost', params: {userName: _vm.userName, postId: _vm.post.id}}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.post.subject)+\"\\n\\t\")]),_vm._v(\"\\n\\t (\"+_vm._s(_vm.date)+\")\\n\")],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop } from \"vue-property-decorator\";\nimport * as models from \"../models\";\nimport * as utils from \"../utils\";\n\n@Component({})\nexport default class PostLink extends Vue {\n\t@Prop() userName!: string;\n\t@Prop() post!: models.ViewablePost;\n\n\tget date() {\n\t\treturn utils.fromTimestampToDate(this.post.created);\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostLink.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostLink.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PostLink.vue?vue&type=template&id=62cef847&\"\nimport script from \"./PostLink.vue?vue&type=script&lang=ts&\"\nexport * from \"./PostLink.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop, Watch } from \"vue-property-decorator\";\nimport PostLink from \"./PostLink.vue\";\nimport * as models from \"../models\";\nimport * as factories from \"../factories\";\nimport firebase from \"firebase\";\nimport firestore = firebase.firestore;\n\n@Component({\n\tcomponents: {\n\t\tPostLink,\n\t},\n})\nexport default class RelativePost extends Vue {\n\t@Prop() userName!: string;\n\t@Prop() post!: models.ViewablePost;\n\trelativePosts: models.ViewablePost[] = [];\n\n\t@Watch(\"post\")\n\tasync $_RelativePost_onPostChanged() {\n\t\tthis.relativePosts = [];\n\t\tconst postRef = firestore().collection(\"users\").doc(this.userName).collection(\"posts\");\n\t\ttry {\n\t\t\t// 30日前から適当に10個取る\n\t\t\t// TODO: 本当は前後の記事 or 本当のランダム取得を2クエリ以内でやりたいができなかった\n\t\t\t// TODO: 一か月に3本以上書いてくれないと3個出てくれないクソ仕様\n\t\t\tconst old = firestore.Timestamp.fromMillis(this.post.created.toMillis() - 30 * 24 * 60 * 60 * 1000);\n\t\t\tconst relativePosts = await postRef.where(\n\t\t\t\t\"created\",\n\t\t\t\t\">\",\n\t\t\t\told,\n\t\t\t).limit(10).get();\n\t\t\trelativePosts.forEach((post) => {\n\t\t\t\tif (post.id === this.post.id) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.relativePosts.push(factories.createViewablePostByDocumentSnapshot(post));\n\t\t\t});\n\t\t\t// 10個からランダムに3つ表示\n\t\t\twhile (this.relativePosts.length > 3) {\n\t\t\t\tthis.relativePosts.splice(Math.floor(Math.random() * this.relativePosts.length), 1);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(\"get relative post error\", err);\n\t\t}\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativePost.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelativePost.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RelativePost.vue?vue&type=template&id=02fd36e2&\"\nimport script from \"./RelativePost.vue?vue&type=script&lang=ts&\"\nexport * from \"./RelativePost.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\nimport { Component, Vue, Prop, Watch } from \"vue-property-decorator\";\nimport PostView from \"../components/PostView.vue\";\nimport RelativePost from \"../components/RelativePost.vue\";\nimport firebase from \"firebase\";\nimport firestore = firebase.firestore;\nimport * as models from \"../models\";\nimport * as factories from \"../factories\";\n\n@Component({\n\tcomponents: {\n\t\tPostView,\n\t\tRelativePost,\n\t},\n})\nexport default class UserPost extends Vue {\n\t@Prop() userName!: string;\n\t@Prop() postId!: string;\n\tpost: models.ViewablePost | null = null;\n\trelativePosts: models.ViewablePost[] = [];\n\tuser: models.Owner | null = null;\n\n\tasync created() {\n\t\tconsole.log(\"user post created\", this.userName, this.postId);\n\t\tconst userRef = firestore().collection(\"users\").doc(this.userName);\n\t\tconst storeUser = await userRef.get();\n\t\tthis.user = factories.createOwner(this.userName, storeUser.data() as models.StoreUser);\n\t\treturn this.$_UserPost_onPostIdChanged();\n\t}\n\n\t@Watch(\"postId\")\n\tasync $_UserPost_onPostIdChanged() {\n\t\tconst userRef = firestore().collection(\"users\").doc(this.userName);\n\t\tthis.relativePosts = [];\n\t\ttry {\n\t\t\tconst postRef = userRef.collection(\"posts\");\n\t\t\tconst thisPost = await postRef.doc(this.postId).get();\n\t\t\tthis.post = factories.createViewablePostByDocumentSnapshot(thisPost);\n\t\t\t// 30日前から適当に10個取る\n\t\t\t// TODO: 本当は前後の記事 or 本当のランダム取得を2クエリ以内でやりたいができなかった\n\t\t\t// TODO: 一か月に3本以上書いてくれないと3個出てくれないクソ仕様\n\t\t\tconst old = firestore.Timestamp.fromMillis(this.post.created.toMillis() - 30 * 24 * 60 * 60 * 1000);\n\t\t\tconst relativePosts = await postRef.where(\n\t\t\t\t\"created\",\n\t\t\t\t\">\",\n\t\t\t\told,\n\t\t\t).limit(10).get();\n\t\t\trelativePosts.forEach((post) => {\n\t\t\t\tif (post.id === this.postId) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.relativePosts.push(factories.createViewablePostByDocumentSnapshot(post));\n\t\t\t});\n\t\t\t// 10個からランダムに3つ表示\n\t\t\twhile (this.relativePosts.length > 3) {\n\t\t\t\tthis.relativePosts.splice(Math.floor(Math.random() * this.relativePosts.length), 1);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(\"get data error\", err);\n\t\t}\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPost.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPost.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UserPost.vue?vue&type=template&id=671918c8&\"\nimport script from \"./UserPost.vue?vue&type=script&lang=ts&\"\nexport * from \"./UserPost.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport TopPage from \"./views/TopPage.vue\";\nimport PostForm from \"./views/PostForm.vue\";\nimport UserPosts from \"./views/UserPosts.vue\";\nimport UserPost from \"./views/UserPost.vue\";\nimport {store} from \"./store\";\n\nVue.use(Router);\n\nfunction getInt(param: string | string[] | null, defaultValue: null | number = null) {\n\tif (param == null) {\n\t\treturn defaultValue;\n\t}\n\tif (typeof param === \"string\") {\n\t\treturn parseInt(param, 10);\n\t}\n\treturn parseInt(param[0], 10);\n}\nfunction getOrder(param: string | string[] | null) {\n\tif (param === \"asc\") {\n\t\treturn \"asc\";\n\t}\n\treturn \"desc\";\n}\n\nexport default new Router({\n\tmode: \"history\",\n\tbase: process.env.BASE_URL,\n\troutes: [\n\t\t{\n\t\t\tpath: \"/\",\n\t\t\tname: \"home\",\n\t\t\tcomponent: TopPage,\n\t\t},\n\t\t{\n\t\t\tpath: \"/about\",\n\t\t\tname: \"about\",\n\t\t\t// route level code-splitting\n\t\t\t// this generates a separate chunk (about.[hash].js) for this route\n\t\t\t// which is lazy-loaded when the route is visited.\n\t\t\tcomponent: () => import(/* webpackChunkName: \"about\" */ \"./views/AboutThis.vue\"),\n\t\t},\n\t\t{\n\t\t\tpath: \"/_do_post\",\n\t\t\tname: \"post\",\n\t\t\tcomponent: PostForm,\n\t\t\tprops: (route) => {\n\t\t\t\treturn {\n\t\t\t\t\towner: store.user,\n\t\t\t\t};\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tpath: \"/:userName\",\n\t\t\tname: \"user\",\n\t\t\tcomponent: UserPosts,\n\t\t\tprops: (route) => {\n\t\t\t\treturn {\n\t\t\t\t\tuserName: route.params.userName,\n\t\t\t\t\t// TODO: 多分ヘルパーある\n\t\t\t\t\tsince: route.query.since,\n\t\t\t\t\torder: getOrder(route.query.order),\n\t\t\t\t\tpage: getInt(route.query.page, 0),\n\t\t\t\t};\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tpath: \"/:userName/:postId\",\n\t\t\tname: \"userPost\",\n\t\t\tcomponent: UserPost,\n\t\t\tprops: true,\n\t\t},\n\t\t// {\n\t\t// \tpath: \"/post\",\n\t\t// \tname: \"post\",\n\t\t// \tcomponent: () => import(\"./views/Post.vue\"),\n\t\t// },\n\t],\n});\n","import Vue from \"vue\";\nimport \"./plugins/vuetify\";\nimport App from \"./App.vue\";\nimport firebase from \"firebase\";\nimport router from \"./router\";\nimport {store} from \"./store\";\n\nVue.config.productionTip = false;\n\n// Initialize Firebase\nconst firebaseConfig = {\n\tapiKey: process.env.VUE_APP_FIREBASE_API_KEY,\n\tauthDomain: process.env.VUE_APP_FIREBASE_AUTH_DOMAIN,\n\tdatabaseURL: process.env.VUE_APP_FIREBASE_DATABASE_URL,\n\tprojectId: process.env.VUE_APP_FIREBASE_PROJECT_ID,\n\tstorageBucket: process.env.VUE_APP_FIREBASE_STORAGE_BUCKET,\n\tmessagingSenderId: process.env.VUE_APP_FIREBASE_MESSAGING_SENDER_ID,\n};\nfirebase.initializeApp(firebaseConfig);\n\nstore.initialize();\n\nnew Vue({\n\trouter,\n\trender: (h) => h(App),\n}).$mount(\"#app\");\n"],"sourceRoot":""}